[{"id":"eec56ee3.830e5","type":"tab","label":"Flow 1","disabled":false,"info":""},{"id":"4feeb1e6.50cdd","type":"blynk-ws-client","z":"","name":"Blynk Cloud","path":"ws://blynk-cloud.com/websockets","key":"a41jbjX1fZboSzcQih3riwgIGhrbK4_t","dbg_all":false,"dbg_read":false,"dbg_write":false,"dbg_notify":false,"dbg_mail":false,"dbg_prop":false,"dbg_sync":false,"dbg_bridge":false,"dbg_low":false,"dbg_pins":"","multi_cmd":false,"proxy_type":"no","proxy_url":"","enabled":true},{"id":"e4725aae.549b38","type":"ui_group","z":"","name":"Default","tab":"fb5160a2.2f94a","order":1,"disp":true,"width":"6","collapse":false},{"id":"fb5160a2.2f94a","type":"ui_tab","z":"","name":"Home","icon":"dashboard","disabled":false,"hidden":false},{"id":"d700572e.4f1768","type":"blynk-ws-in-app","z":"eec56ee3.830e5","name":"Connect to Blynk","client":"4feeb1e6.50cdd","x":120,"y":40,"wires":[[]]},{"id":"b9070360.9affd","type":"http in","z":"eec56ee3.830e5","name":"HTTP Receive","url":"/receive","method":"get","upload":false,"swaggerDoc":"","x":120,"y":100,"wires":[["6eff4a79.3c23b4","cf5ae890.2bfc68"]]},{"id":"6eff4a79.3c23b4","type":"http response","z":"eec56ee3.830e5","name":"Response","statusCode":"","headers":{},"x":340,"y":100,"wires":[]},{"id":"dd289529.3428c8","type":"http request","z":"eec56ee3.830e5","name":"Send GPS Position","method":"PUT","ret":"txt","paytoqs":"body","url":"http://188.166.206.43/a41jbjX1fZboSzcQih3riwgIGhrbK4_t/update/V7","tls":"","persist":false,"proxy":"","authType":"","x":810,"y":140,"wires":[[]]},{"id":"58e0a9.b8464f58","type":"inject","z":"eec56ee3.830e5","name":"Set fake data","props":[{"p":"fakelat","v":"-6.19722898","vt":"num"},{"p":"fakelon","v":"106.91558977","vt":"num"}],"repeat":"","crontab":"","once":true,"onceDelay":0.1,"topic":"","x":120,"y":500,"wires":[["ce28bf2.4e6a74"]]},{"id":"24b1f22b.df872e","type":"ui_text","z":"eec56ee3.830e5","group":"e4725aae.549b38","order":0,"width":0,"height":0,"name":"","label":"spd","format":"{{msg.payload.spd}} km/h","layout":"row-spread","x":570,"y":320,"wires":[]},{"id":"ba2adb21.f23408","type":"ui_text","z":"eec56ee3.830e5","group":"e4725aae.549b38","order":0,"width":0,"height":0,"name":"","label":"alt","format":"{{msg.payload.alt}} m","layout":"row-spread","x":570,"y":420,"wires":[]},{"id":"9ac8f7f0.f26888","type":"inject","z":"eec56ee3.830e5","name":"Every 5 minutes","props":[{"p":"payload"}],"repeat":"300","crontab":"","once":true,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":350,"y":40,"wires":[["61cbe817.e8fc58"]]},{"id":"61cbe817.e8fc58","type":"http request","z":"eec56ee3.830e5","name":"Ping myself","method":"GET","ret":"txt","paytoqs":"body","url":"https://nodered-heroku.herokuapp.com","tls":"","persist":true,"proxy":"","authType":"","x":530,"y":40,"wires":[[]]},{"id":"819c17b5.0e5498","type":"change","z":"eec56ee3.830e5","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"[\t   0,\t   $flowContext(\"lat\") ,\t   $flowContext(\"lon\"),\t   \"Your Car\"\t]","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":140,"wires":[["dd289529.3428c8"]]},{"id":"c4e300f0.c5bc3","type":"ui_text","z":"eec56ee3.830e5","group":"e4725aae.549b38","order":4,"width":0,"height":0,"name":"","label":"lat","format":"{{msg.payload.lat}}","layout":"row-spread","x":570,"y":180,"wires":[]},{"id":"ce28bf2.4e6a74","type":"change","z":"eec56ee3.830e5","name":"Set flow fake data","rules":[{"t":"set","p":"fakelat","pt":"flow","to":"fakelat","tot":"msg"},{"t":"set","p":"fakelon","pt":"flow","to":"fakelon","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":330,"y":500,"wires":[[]]},{"id":"cf5ae890.2bfc68","type":"change","z":"eec56ee3.830e5","name":"","rules":[{"t":"set","p":"lat","pt":"flow","to":"payload.lat","tot":"msg"},{"t":"set","p":"lon","pt":"flow","to":"payload.lon","tot":"msg"},{"t":"set","p":"spd","pt":"flow","to":"payload.spd","tot":"msg"},{"t":"set","p":"alt","pt":"flow","to":"payload.alt","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":360,"y":140,"wires":[["c4e300f0.c5bc3","d2a01c01.4a58c","819c17b5.0e5498","24b1f22b.df872e","ba2adb21.f23408","a789d3b.26a3b3","65fa578e.138a28"]]},{"id":"f2f548b4.8a7c48","type":"http request","z":"eec56ee3.830e5","name":"Send fake data HTTP","method":"GET","ret":"txt","paytoqs":"ignore","url":"https://nodered-heroku.herokuapp.com/receive?lat={{fakelat}}&lon={{fakelon}}&spd={{fakespd}}&alt={{fakealt}}","tls":"","persist":false,"proxy":"","authType":"","x":580,"y":540,"wires":[[]]},{"id":"c44c8179.7919a","type":"inject","z":"eec56ee3.830e5","name":"Update fake data","props":[{"p":"fakelat","v":"$round($flowContext(\"fakelat\")-0.000123, 8)\t","vt":"jsonata"},{"p":"fakelon","v":"$round($flowContext(\"fakelon\")+0.000123, 8)\t","vt":"jsonata"},{"p":"fakespd","v":"$round($random()*100, 0)\t\t","vt":"jsonata"},{"p":"fakealt","v":"$round($random()*1000, 0)\t","vt":"jsonata"}],"repeat":"5","crontab":"","once":true,"onceDelay":"0.2","topic":"","x":130,"y":540,"wires":[["ee778458.191d38"]]},{"id":"d2a01c01.4a58c","type":"ui_text","z":"eec56ee3.830e5","group":"e4725aae.549b38","order":4,"width":0,"height":0,"name":"","label":"lon","format":"{{msg.payload.lon}}","layout":"row-spread","x":570,"y":220,"wires":[]},{"id":"ee778458.191d38","type":"change","z":"eec56ee3.830e5","name":"Set flow fake data","rules":[{"t":"set","p":"fakelat","pt":"flow","to":"fakelat","tot":"msg"},{"t":"set","p":"fakelon","pt":"flow","to":"fakelon","tot":"msg"},{"t":"set","p":"fakespd","pt":"flow","to":"fakespd","tot":"msg"},{"t":"set","p":"fakealt","pt":"flow","to":"fakealt","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":350,"y":540,"wires":[["f2f548b4.8a7c48"]]},{"id":"a789d3b.26a3b3","type":"change","z":"eec56ee3.830e5","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"[\t   $flowContext(\"spd\")\t]","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":280,"wires":[["44451e30.ffb2d"]]},{"id":"44451e30.ffb2d","type":"http request","z":"eec56ee3.830e5","name":"Send Speed","method":"PUT","ret":"txt","paytoqs":"body","url":"http://188.166.206.43/a41jbjX1fZboSzcQih3riwgIGhrbK4_t/update/V5","tls":"","persist":false,"proxy":"","authType":"","x":790,"y":280,"wires":[[]]},{"id":"78a59e1b.f9d05","type":"http request","z":"eec56ee3.830e5","name":"Send Altitude","method":"PUT","ret":"txt","paytoqs":"body","url":"http://188.166.206.43/a41jbjX1fZboSzcQih3riwgIGhrbK4_t/update/V6","tls":"","persist":false,"proxy":"","authType":"","x":790,"y":380,"wires":[[]]},{"id":"65fa578e.138a28","type":"change","z":"eec56ee3.830e5","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"[\t   $flowContext(\"alt\")\t]","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":380,"wires":[["78a59e1b.f9d05"]]}]
