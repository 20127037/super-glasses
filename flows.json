[{"id":"3827b8c0.6c5468","type":"tab","label":"Flow 1","disabled":false,"info":""},{"id":"cf48a4fe2aef05dc","type":"tab","label":"Worldmap","disabled":false,"info":""},{"id":"179da511.9a22fb","type":"group","z":"3827b8c0.6c5468","name":"Keep alive","style":{"label":true},"nodes":["a8d2d040.73334","a5b1fd05.62fc"],"x":794,"y":19,"w":212,"h":142},{"id":"7e6baf98.69239","type":"ui_group","name":"TEST DEMO","tab":"85a5817c.1b7c5","order":1,"disp":true,"width":"6","collapse":false},{"id":"40b8cf94.34e39","type":"telegrambot-config","botname":"Heroku","usernames":"","chatIds":"","pollInterval":"300"},{"id":"f1bf23af235c0dc2","type":"ui_group","name":"Response","tab":"85a5817c.1b7c5","order":2,"disp":true,"width":"6","collapse":false,"className":""},{"id":"85a5817c.1b7c5","type":"ui_tab","name":"HYBUILD Demo status check","icon":"dashboard","disabled":false,"hidden":false},{"id":"a14f81bfbb849ce6","type":"ui_base","theme":{"name":"theme-light","lightTheme":{"default":"#0094CE","baseColor":"#0094CE","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":true,"reset":false},"darkTheme":{"default":"#097479","baseColor":"#097479","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":false},"customTheme":{"name":"Untitled Theme 1","default":"#4B7930","baseColor":"#4B7930","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"},"themeState":{"base-color":{"default":"#0094CE","value":"#0094CE","edited":false},"page-titlebar-backgroundColor":{"value":"#0094CE","edited":false},"page-backgroundColor":{"value":"#fafafa","edited":false},"page-sidebar-backgroundColor":{"value":"#ffffff","edited":false},"group-textColor":{"value":"#1bbfff","edited":false},"group-borderColor":{"value":"#ffffff","edited":false},"group-backgroundColor":{"value":"#ffffff","edited":false},"widget-textColor":{"value":"#111111","edited":false},"widget-backgroundColor":{"value":"#0094ce","edited":false},"widget-borderColor":{"value":"#ffffff","edited":false},"base-font":{"value":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"}},"angularTheme":{"primary":"indigo","accents":"blue","warn":"red","background":"grey","palette":"light"}},"site":{"name":"Node-RED Dashboard","hideToolbar":"false","allowSwipe":"false","lockMenu":"false","allowTempTheme":"true","dateFormat":"DD/MM/YYYY","sizes":{"sx":48,"sy":48,"gx":6,"gy":6,"cx":6,"cy":6,"px":0,"py":0}}},{"id":"cd81d08b.eebb3","type":"ui_group","z":"cf48a4fe2aef05dc","name":"Worldmap","tab":"85a5817c.1b7c5","order":1,"disp":true,"width":"6","collapse":false,"className":""},{"id":"b34078e6.e60df8","type":"ui_tab","z":"cf48a4fe2aef05dc","name":"Home","icon":"dashboard"},{"id":"126016e.fdf9fe9","type":"ui_text","z":"3827b8c0.6c5468","group":"7e6baf98.69239","order":1,"width":0,"height":0,"name":"","label":"PING","format":"{{msg.payload}} HYBUILD demo sites","layout":"row-spread","x":90,"y":60,"wires":[]},{"id":"60b78e88.8ae0e","type":"comment","z":"3827b8c0.6c5468","name":"Github","info":"[https://github.com/hybuild-project/nodered-heroku](https://github.com/hybuild-project/nodered-heroku)","x":850,"y":480,"wires":[]},{"id":"e1ef8570.fdbf48","type":"comment","z":"3827b8c0.6c5468","name":"Telegram token","info":"2097247350:AAHvGZR34e34Y0MjKtvFRFLs1qcysirD2rA","x":880,"y":520,"wires":[]},{"id":"7ebab4ec.971c4c","type":"comment","z":"3827b8c0.6c5468","name":"Heroku dashboard","info":"[https://dashboard.heroku.com/apps/nodered-on-cloud](https://dashboard.heroku.com/apps/nodered-on-cloud)","x":890,"y":440,"wires":[]},{"id":"96b9608d.b4d69","type":"telegrambot-notify","z":"3827b8c0.6c5468","name":"my chat","bot":"40b8cf94.34e39","chatId":"1269409529","message":"","parseMode":"","x":580,"y":140,"wires":[]},{"id":"7f1b75a8d65eb887","type":"http request","z":"3827b8c0.6c5468","name":"","method":"GET","ret":"txt","paytoqs":"ignore","url":"http://hybuild-pink-bems.loca.lt","tls":"","persist":false,"proxy":"","authType":"","x":390,"y":240,"wires":[["d99f126f2c62a2e8","ec68ab61ec4e0413"]]},{"id":"4f43bd224fc76d72","type":"http request","z":"3827b8c0.6c5468","name":"","method":"GET","ret":"txt","paytoqs":"ignore","url":"http://hybuild-alm-bems.loca.lt","tls":"","persist":false,"proxy":"","authType":"","x":390,"y":340,"wires":[["3df8bba9edbd252c","c225c2a4cf470fb3"]]},{"id":"19a55cd6d69e47ee","type":"http request","z":"3827b8c0.6c5468","name":"","method":"GET","ret":"txt","paytoqs":"ignore","url":"http://hybuild-agl-bems.loca.lt","tls":"","persist":false,"proxy":"","authType":"","x":390,"y":440,"wires":[["2c3992ec7766904e","8ada833c965498e9"]]},{"id":"d99f126f2c62a2e8","type":"change","z":"3827b8c0.6c5468","name":"404?","rules":[{"t":"set","p":"payload","pt":"msg","to":"$not($trim(payload)=\"404\")","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":570,"y":240,"wires":[["00b91a72df0bc9ea"]]},{"id":"3df8bba9edbd252c","type":"change","z":"3827b8c0.6c5468","name":"404?","rules":[{"t":"set","p":"payload","pt":"msg","to":"$not($trim(payload)=\"404\")","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":570,"y":340,"wires":[["b59102e37b56945e"]]},{"id":"2c3992ec7766904e","type":"change","z":"3827b8c0.6c5468","name":"404?","rules":[{"t":"set","p":"payload","pt":"msg","to":"$not($trim(payload)=\"404\")","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":570,"y":440,"wires":[["63df6662e9466a9c"]]},{"id":"00b91a72df0bc9ea","type":"ui_switch","z":"3827b8c0.6c5468","name":"","label":"PINK","tooltip":"","group":"7e6baf98.69239","order":2,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"fa-circle","oncolor":"green","offvalue":"false","offvalueType":"bool","officon":"fa-circle","offcolor":"red","animate":false,"x":730,"y":240,"wires":[[]]},{"id":"ec68ab61ec4e0413","type":"ui_template","z":"3827b8c0.6c5468","group":"f1bf23af235c0dc2","name":"","order":5,"width":0,"height":0,"format":"PINK\n<textarea rows=\"7\" cols=\"7\">\n    {{msg.payload}}\n</textarea>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","className":"","x":580,"y":280,"wires":[[]]},{"id":"c225c2a4cf470fb3","type":"ui_template","z":"3827b8c0.6c5468","group":"f1bf23af235c0dc2","name":"","order":6,"width":0,"height":0,"format":"ALM\n<textarea rows=\"7\" cols=\"7\">\n    {{msg.payload}}\n</textarea>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","className":"","x":580,"y":380,"wires":[[]]},{"id":"8ada833c965498e9","type":"ui_template","z":"3827b8c0.6c5468","group":"f1bf23af235c0dc2","name":"","order":7,"width":0,"height":0,"format":"AGL\n<textarea rows=\"7\" cols=\"7\">\n    {{msg.payload}}\n</textarea>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","className":"","x":580,"y":500,"wires":[[]]},{"id":"b59102e37b56945e","type":"ui_switch","z":"3827b8c0.6c5468","name":"","label":"ALM","tooltip":"","group":"7e6baf98.69239","order":3,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"fa-circle","oncolor":"green","offvalue":"false","offvalueType":"bool","officon":"fa-circle","offcolor":"red","animate":false,"x":730,"y":340,"wires":[[]]},{"id":"63df6662e9466a9c","type":"ui_switch","z":"3827b8c0.6c5468","name":"","label":"AGL","tooltip":"","group":"7e6baf98.69239","order":4,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"fa-circle","oncolor":"green","offvalue":"false","offvalueType":"bool","officon":"fa-circle","offcolor":"red","animate":false,"x":730,"y":440,"wires":[[]]},{"id":"b0cb0d7a.a8c67","type":"template","z":"3827b8c0.6c5468","name":"","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"Dashboard: https://nodered-on-cloud.herokuapp.com\nNode-RED: https://nodered-on-cloud.herokuapp.com/editor","output":"str","x":380,"y":140,"wires":[["96b9608d.b4d69"]]},{"id":"a8d2d040.73334","type":"http request","z":"3827b8c0.6c5468","g":"179da511.9a22fb","name":"","method":"GET","ret":"txt","paytoqs":"ignore","url":"https://nodered-on-cloud.herokuapp.com/start","tls":"","persist":false,"proxy":"","authType":"","x":910,"y":120,"wires":[[]]},{"id":"a5b1fd05.62fc","type":"inject","z":"3827b8c0.6c5468","g":"179da511.9a22fb","name":"","props":[],"repeat":"600","crontab":"","once":false,"onceDelay":0.1,"topic":"","x":890,"y":60,"wires":[["a8d2d040.73334"]]},{"id":"93df8ae.f571d78","type":"telegrambot-command","z":"3827b8c0.6c5468","name":"/start","bot":"40b8cf94.34e39","command":"/start","commandType":"str","commandCase":false,"x":150,"y":140,"wires":[["b0cb0d7a.a8c67","7f1b75a8d65eb887","4f43bd224fc76d72","19a55cd6d69e47ee"]]},{"id":"2aa5569f.72873a","type":"ui_button","z":"3827b8c0.6c5468","name":"","group":"7e6baf98.69239","order":8,"width":0,"height":0,"passthru":false,"label":"Start","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"topic","topicType":"msg","x":150,"y":440,"wires":[["7f1b75a8d65eb887","4f43bd224fc76d72","19a55cd6d69e47ee"]]},{"id":"d0ad29e6.9a7ef8","type":"ui_ui_control","z":"3827b8c0.6c5468","name":"","events":"all","x":140,"y":240,"wires":[["7f1b75a8d65eb887","4f43bd224fc76d72","19a55cd6d69e47ee"]]},{"id":"7774b51b.81f9ec","type":"http in","z":"3827b8c0.6c5468","name":"","url":"/start","method":"get","upload":false,"swaggerDoc":"","x":140,"y":340,"wires":[["7f1b75a8d65eb887","4f43bd224fc76d72","19a55cd6d69e47ee"]]},{"id":"2f265f8bdaf95837","type":"ui_button","z":"3827b8c0.6c5468","name":"","group":"f1bf23af235c0dc2","order":8,"width":0,"height":0,"passthru":false,"label":"Editor","tooltip":"","color":"","bgcolor":"","className":"","icon":"","payload":"{\"tab\":\"Editor\"}","payloadType":"json","topic":"topic","topicType":"msg","x":150,"y":500,"wires":[["4dc6b9203fbfd245"]]},{"id":"4dc6b9203fbfd245","type":"ui_ui_control","z":"3827b8c0.6c5468","name":"","events":"all","x":380,"y":500,"wires":[[]]},{"id":"1714967f.e691ea","type":"inject","z":"cf48a4fe2aef05dc","name":"","repeat":"","crontab":"","once":false,"onceDelay":"","topic":"","payload":"","payloadType":"str","x":110,"y":100,"wires":[["1b24ad2f.198453"]]},{"id":"1b24ad2f.198453","type":"function","z":"cf48a4fe2aef05dc","name":"","func":"// create random position\nvar lat = 33.1 + Math.random() * 0.2;\nvar lon = 13.3 + Math.random() * 0.2;\nmsg.payload={\n    lat:lat, \n    lon:lon, \n    name:\"Lara\", \n    icon:\"female\", \n    color:\"#000\"};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":290,"y":160,"wires":[["de5c4044.d4e0f","e0ec963913cbf7a9"]]},{"id":"de3a90c8.8179c","type":"ui_button","z":"cf48a4fe2aef05dc","name":"","group":"cd81d08b.eebb3","order":0,"width":0,"height":0,"passthru":false,"label":"Move Mike","tooltip":"","color":"","bgcolor":"","className":"","icon":"fa-male","payload":"","payloadType":"str","topic":"","topicType":"str","x":110,"y":160,"wires":[["1b24ad2f.198453"]]},{"id":"223f301c.54ea9","type":"comment","z":"cf48a4fe2aef05dc","name":"How to embed Map in Dashboard","info":"This example shows how to embed the Worldmap \nwithin the `node-red-dashboard`\n\nThe  flow creates a dashboard button that \ngenerates a randon position, with the required \nicon, and passes that to the worldmap. The\nmap is configured to automatically pan to the\nposition of any point that arrives.\n","x":160,"y":40,"wires":[]},{"id":"de5c4044.d4e0f","type":"worldmap-tracks","z":"cf48a4fe2aef05dc","name":"","depth":"5","layer":"combined","smooth":false,"x":450,"y":120,"wires":[["e0ec963913cbf7a9"]]},{"id":"e0ec963913cbf7a9","type":"ui_worldmap","z":"cf48a4fe2aef05dc","group":"cd81d08b.eebb3","order":4,"width":0,"height":0,"name":"","lat":"","lon":"","zoom":"","layer":"","cluster":"","maxage":"","usermenu":"hide","layers":"hide","panit":"true","panlock":"false","zoomlock":"false","hiderightclick":"true","coords":"none","showgrid":"true","allowFileDrop":"false","path":"/worldmap","mapname":"","mapurl":"","mapopt":"","mapwms":false,"x":600,"y":160,"wires":[]}]